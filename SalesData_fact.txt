CREATE TABLE ADMIN.SALES_DATA_FACT 
    ( 
     SALESID      NUMBER GENERATED ALWAYS AS IDENTITY 
        ( START WITH 1 CACHE 20 ) , 
     PRODUCTID    NUMBER , 
     CUSTOMERID   NUMBER , 
     STOREID      NUMBER , 
     EMPID        NUMBER , 
     PAYMENTID    NUMBER , 
     DATEID       NUMBER , 
     PROMOID      NUMBER , 
     SOLDQUANTITY NUMBER , 
     SALESPRICE   NUMBER (8,2) 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE UNIQUE INDEX ADMIN.SALES_DATA_FACT_PK ON ADMIN.SALES_DATA_FACT 
    ( 
     SALESID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT SALES_DATA_FACT_PK PRIMARY KEY ( SALESID ) 
    USING INDEX ADMIN.SALES_DATA_FACT_PK ;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT CUSTOMERID FOREIGN KEY 
    ( 
     CUSTOMERID
    ) 
    REFERENCES ADMIN.CUSTOMER_DETAILS ( CUSTOMERID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT DATEID FOREIGN KEY 
    ( 
     DATEID
    ) 
    REFERENCES ADMIN."Date" ( DATEID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT EMPID FOREIGN KEY 
    ( 
     EMPID
    ) 
    REFERENCES ADMIN.EMPLOYEE_DETAILS ( EMPID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT PAYMENTID FOREIGN KEY 
    ( 
     PAYMENTID
    ) 
    REFERENCES ADMIN.PAYMENT_DETAILS ( PAYMENTID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT PRODUCTID FOREIGN KEY 
    ( 
     PRODUCTID
    ) 
    REFERENCES ADMIN.PRODUCT_DETAILS ( PRODUCTID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT PROMOID FOREIGN KEY 
    ( 
     PROMOID
    ) 
    REFERENCES ADMIN.PROMOTION ( PROMOID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES_DATA_FACT 
    ADD CONSTRAINT STOREID FOREIGN KEY 
    ( 
     STOREID
    ) 
    REFERENCES ADMIN.STORE_DETAILS ( STOREID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;